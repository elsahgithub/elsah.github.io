// Translations for Analyse SAE page
const translations = {
  fr: {
    // Titres généraux
    "analysis-title": "Analyses Réflexives",
    "objectives-title": "Objectifs et contexte",
    "experience-title": "Expérience subjective",
    "presentation-title": "Présentation de la SAE",
    "technical-title": "Analyse technique et pédagogique",
    "evaluation-title": "Évaluation",
    "conclusion-title": "Conclusion",
    "strengths-title": "Points forts",
    "improvements-title": "Points à améliorer",
    "resolutions-title": "Bonne résolution",
    "self-grade": "Auto‑évaluation",
    "actual-grade": "Note obtenue",
    "but1-badge": "BUT1",
    "but2-badge": "BUT2",

    // SAE 14
    "sae14-title": "SAE 14 : ePortfolio – Analyse Réflexive",
    "sae14-objectives": "Mon implication dans la création d’un ePortfolio s’inscrit dans la SAÉ 14 : valoriser une identité numérique professionnelle via un site statique, incluant présentation, médias, etc.",
    "sae14-impression1": "Qu’avez‑vous pensé lors de la présentation de la SAE ? J’ai pris conscience que sa réalisation demandait une large palette de compétences et une planification minutieuse. J’appréhendais le volume des critères.",
    "sae14-impression2": "Qu’en pensez‑vous aujourd’hui, après la SAE ? Je suis contente de cette expérience. Malgré les défis, j’ai acquis des connaissances concrètes et renforcé ma compréhension des compétences web, utiles pour ma candidature professionnelle.",
    "sae14-knowledge": "Connaissances mobilisées : HTML5/CSS3 (R109), gestion de projet via Trello et diagramme de Gantt en TP, pour structurer et planifier efficacement.",
    "sae14-difficulties": "Difficultés rencontrées : erreurs de validation HTML/CSS et ajustements responsives. J’ai pris le temps d’analyser, de consulter la doc et d’utiliser des ressources en ligne pour corriger.",
    "sae14-image1-caption": "Image 1 : Plan du site ePortfolio",
    "sae14-image1-text": "Cette image montre la structure du menu « plan du site », illustrant ma capacité à organiser clairement les pages.",
    "sae14-image2-caption": "Image 2 : Arborescence du code HTML",
    "sae14-image2-text": "Cette image présente une partie du code HTML, démontrant ma compréhension technique pour structurer un site statique.",
    "sae14-evaluation1": "Grille d’auto‑évaluation : elle m’a aidée à cerner les attentes, notamment maîtrise IT et architecture web.",
    "sae14-evaluation2": "Impact sur l’organisation : ça m’a aidée à définir mes priorités, concentrer mes efforts et ajuster ma planification.",
    "sae14-evaluation3": "Conversion en note : elle reste cohérente car j’ai inclus les éléments principaux requis, même s’ils ne sont pas parfaitement maîtrisés.",
    "sae14-strength1": "Structure claire, atmosphère non désordonnée",
    "sae14-strength2": "CSS et HTML propres",
    "sae14-strength3": "Respect des consignes essentielles",
    "sae14-improvement1": "Vérification régulière du code",
    "sae14-improvement2": "Planification plus granulée des tâches",
    "sae14-improvement3": "Anticipation des retards possibles",
    "sae14-conclusion1": "Conclusion : malgré les difficultés, j’ai beaucoup appris. Cette expérience a renforcé ma résilience et ma persévérance.",
    "sae14-conclusion2": "À refaire : j’accorderais plus de réflexion à la sélection des livrables et à la clarté du code.",
    "sae14-resolution": "Bonne résolution : intégrer des marges pour anticiper les imprévus, renforcer la rigueur et optimiser l’organisation.",

    // SAE 32
    "sae32-title": "SAE 32 : Dev. d’applications communicantes – Analyse Réflexive",
    "sae32-presentation": "La SAE 32 visait l’implémentation de protocoles de communication couche 2/3 avec M5Stack LoRa : adresses réseau, collisions (ALOHA), acquittement/retransmission (LLC3), correction d’erreurs (XOR, Reed‑Solomon), routage multi‑nœuds, TTL, filtrage de duplicats.",
    "sae32-impression1": "Ressenti initial : projet stimulant mais long et complexe. Beaucoup d’éléments annoncés sans fil conducteur clair.",
    "sae32-impression2": "Aujourd’hui : je n’ai pas forcément apprécié la SAE, mais j’y ai gagné de solides compétences IoT, protocoles, limites du sans fil LoRa, et programmation système. Avec plus de temps, ça aurait été plus clair.",
    "sae32-knowledge": "Savoirs mobilisés : TP R308 IoT, R309 microPython/UIFlow, R301 réseaux/IoT. La librairie SimpleWiNo pour couches 2/3 a demandé une forte appropriation.",
    "sae32-difficulties": "Difficultés : compréhension des algorithmes de routage, acquittement, inondation, TTL, filtrage de paquets, Reed‑Solomon. L’organisation collective nécessitait une coordination régulière. Nous avons progressé par recherche, tests et réécritures itératives.",
    "sae32-evaluation": "Pas de grille formelle, mais cahier des charges scrupuleusement respecté dans le code, le rapport et la présentation.",
    "sae32-strength1": "Robustesse du code final",
    "sae32-strength2": "Conformité au cahier des charges",
    "sae32-strength3": "Répartition efficace du travail",
    "sae32-improvement1": "Présentation orale parfois confuse",
    "sae32-improvement2": "Compréhension approfondie des protocoles",
    "sae32-improvement3": "Clarté des automatisations et schémas",
    "sae32-conclusion1": "Conclusion : ce projet m’a appris la persévérance, l’importance de la coordination d’équipe et de la documentation.",
    "sae32-conclusion2": "À refaire : j’approfondirais la compréhension des protocoles avant le code et soignerais la qualité des diagrammes.",
    "sae32-resolution": "Bonne résolution : structurer la veille et les notes, approfondir les protocoles réseau, Internet et bas‑niveau.",

    // Footer
    "footer-info-1": "IUT de Blagnac",
    "footer-info-2": "Département Réseaux et Télécommunications",
    "footer-info-3": "BUT 2",
    "validate-html": "Valider HTML",
    "validate-css": "Valider CSS"
  },
  en: {
    // General titles
    "analysis-title": "Reflective Analysis",
    "objectives-title": "Objectives and Context",
    "experience-title": "Subjective Experience",
    "presentation-title": "SAE Presentation",
    "technical-title": "Technical and Pedagogical Analysis",
    "evaluation-title": "Evaluation",
    "conclusion-title": "Conclusion",
    "strengths-title": "Strengths",
    "improvements-title": "Areas for Improvement",
    "resolutions-title": "Good Resolution",
    "self-grade": "Self‑assessment",
    "actual-grade": "Actual Grade",
    "but1-badge": "BUT1",
    "but2-badge": "BUT2",

    // SAE 14
    "sae14-title": "SAE 14: ePortfolio – Reflective Analysis",
    "sae14-objectives": "My involvement in creating an ePortfolio is part of SAE 14 – to build a professional digital identity via a static website, focusing on personal presentation and multimedia integration.",
    "sae14-impression1": "What did you think when the SAE was presented? I realized it required a broad set of skills and careful task planning. I was apprehensive about the number of criteria to meet.",
    "sae14-impression2": "What do you think today, after the SAE? I’m pleased with this experience. Despite the challenges, I gained concrete knowledge and strengthened my web‑building skills, useful for professional applications.",
    "sae14-knowledge": "Knowledge mobilized: HTML5/CSS3 (R109), project management via Trello and Gantt chart in TPs to plan and structure effectively.",
    "sae14-difficulties": "Difficulties encountered: HTML/CSS validation errors and responsive issues. I spent extra time analyzing, consulting documentation and online resources to address them.",
    "sae14-image1-caption": "Image 1: ePortfolio Site Map",
    "sae14-image1-text": "This shows the site map structure menu, demonstrating my ability to structure site pages clearly.",
    "sae14-image2-caption": "Image 2: HTML Code Structure",
    "sae14-image2-text": "The second image displays part of the HTML code, proving my skill in appropriately using tags to structure content.",
    "sae14-evaluation1": "Self‑assessment grid: it helped clarify expectations, especially IT use and site architecture.",
    "sae14-evaluation2": "Impact on planning: it helped define priorities, focus resources on key areas and adjust planning.",
    "sae14-evaluation3": "Grade conversion consistency: remains coherent since I included essential elements even if not perfectly mastered.",
    "sae14-strength1": "Simple, uncluttered site structure",
    "sae14-strength2": "Clean CSS and HTML code",
    "sae14-strength3": "Compliance with main instructions",
    "sae14-improvement1": "Regular code checks",
    "sae14-improvement2": "More detailed task planning",
    "sae14-improvement3": "Anticipate possible delays",
    "sae14-conclusion1": "What can you conclude from this experience and your working style? I still face challenges but learned a lot. My ability to overcome obstacles strengthened resilience and perseverance.",
    "sae14-conclusion2": "What could you have done differently? I would reflect deeper on deliverable selection and code structure for clarity.",
    "sae14-resolution": "Good resolution: integrate buffers to anticipate setbacks, improve rigor and resource planning.",

    // SAE 32
    "sae32-title": "SAE 32: Communicating Applications – Reflective Analysis",
    "sae32-presentation": "SAE 32 aimed to implement layer 2/3 communication protocols using M5Stack LoRa: addressing, collision control (ALOHA), acknowledgment/retransmission (LLC3), error control (XOR, Reed‑Solomon), multi‑node routing, TTL and duplicate detection.",
    "sae32-impression1": "Initial feeling: stimulating yet complex and lengthy. Many elements announced with little clear guidance.",
    "sae32-impression2": "Today: although I didn’t enjoy the SAE, it provided solid IoT, protocol structuring, LoRa limitations and systems programming skills. More time would have helped clarity.",
    "sae32-knowledge": "Knowledge: TPs R308 (IoT), R309 (microPython/UIFlow), R301 (networks/IoT). SimpleWiNo library for layers 2/3 required significant learning.",
    "sae32-difficulties": "Difficulties: routing, acknowledgment, flooding, TTL, packet filtering, Reed‑Solomon. Team coordination required regular syncs. We progressed by research, testing, and iterative rewriting.",
    "sae32-evaluation": "No formal self‑assessment grid used; we adhered strictly to specifications in code, report, and presentation.",
    "sae32-strength1": "Robustness of final code",
    "sae32-strength2": "Spec compliance",
    "sae32-strength3": "Effective work distribution",
    "sae32-improvement1": "Occasionally unclear oral presentation",
    "sae32-improvement2": "Deeper protocol understanding",
    "sae32-improvement3": "Clearer automations and diagrams",
    "sae32-conclusion1": "This taught me perseverance, importance of team coordination and continuous documentation.",
    "sae32-conclusion2": "What I’d do differently: invest more time in protocol understanding and improve diagram clarity.",
    "sae32-resolution": "Good resolution: better structure research and notes; deepen network, Internet and low‑level programming knowledge.",

    // Footer
    "footer-info-1": "Institute of Technology Blagnac",
    "footer-info-2": "Networks and Telecommunications Department",
    "footer-info-3": "BUT 2",
    "validate-html": "Validate HTML",
    "validate-css": "Validate CSS"
  }
};

// Function to translate Analyse SAE content
function translateAnalysisContent(lang) {
  document.querySelectorAll("[data-lang]").forEach(el => {
    const key = el.getAttribute("data-lang");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
}

// React to language change event
document.addEventListener("languageChanged", e => {
  translateAnalysisContent(e.detail.lang);
});

// Initial load: detect html lang or default to 'fr'
const initialLang = document.documentElement.getAttribute("lang") || "fr";
translateAnalysisContent(initialLang);
